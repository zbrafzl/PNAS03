@{
    ViewBag.Title = "Applicant Specialities ";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model Prp.Sln.ProfileModel
@section RenderCss{

    <style>
        .ank {
            cursor: pointer;
        }

        .grid-img {
            width: 60px;
            height: 40px;
            border: 1px solid #ede9e9;
        }
        .div-apply {
            margin-left: 35%;
            font-size: 25px;
            border-bottom: 2px solid #bbb4b4;
            float: left;
            width: auto;
            padding: 5px 15px;
            margin-bottom: 10px;
        }
        .chk-apply {
            width: 30px;
            float: left;
            margin-right: 20px !important;
        }
        .spn-apply {
            float: left;
            margin-top: 12px !important;
        }
    </style>
}
@section RenderScript{

    <script>

        var applicantId = 0, objApplicant = {}, applicantSpecilityId = 0, ProgramTypeId = 0
            , objSpecility = {}, objSpecilityList = [], objSpecilityListEvening = [], objTypeList = [];

        var typeId = 0, specialityId = 0, hospitalId = 0, listHospitalByTypeAndSepecility = [];

        // listSepecilityApplicant = listSpcApp
        var listSpcApp = [];

        $(document).ready(function () {

            $("#divHtml").html("");


            applicantId = ConvertToInt($("#hfdApplicantId").val());
            GetApplicantInfo();
            //BindTypeDDL(0);
            BindSpecialityDDL();

            //$(document).on('change', '#ddlType', function () {
            //    typeId = $(this).val();
            //    BindSpecialityDDL(0);
            //});

            $(document).on('change', '#ddlSpeciality', function () {
                specialityId = $(this).val();
                BindHospitalDDL(0);
            });

            $(document).on('click', '.chk-apply', function () {
                var typeId = ConvertToInt($(this).attr("typeId"));
                var isChecked = $(this).is(':checked');
                if (isChecked == false) {
                    if (typeId == 9) {
                        if (objSpecilityList.length > 0) {
                            $("#btnUnCheckApply").attr("typeId", typeId);
                            var msgAlert = "Are you sure ? Your morning preference will be deleted"
                            $('#mdSpnAlert').html(msgAlert);
                            $('#mdNoPreference').modal('show');
                        }
                        else
                            $("#divParent" + typeId).hide();
                    }
                    else if (typeId == 10) {
                        if (objSpecilityListEvening.length > 0) {
                            $("#btnUnCheckApply").attr("typeId", typeId);
                            var msgAlert = "Are you sure ? Your evening preference will be deleted"
                            $('#mdSpnAlert').html(msgAlert);
                            $('#mdNoPreference').modal('show');
                        }
                        else
                            $("#divParent" + typeId).hide();
                    }
                }
                else {
                    $("#divParent" + typeId).show();
                }
            });

            $(document).on('click', '#btnSave', function () {
                ProgramTypeId = 9;
                var hosp2, pref2, err = false;
                hosp2 = ConvertToInt($("#ddlHospital").val());
                pref2 = ConvertToInt($("#txtPreferenceNo").val());

                if (hosp2 == 0) {
                    err = true;
                    $("#ddlHospital").focus();
                    $("#ddlHospital").addClass("req-fld");
                }

                if (pref2 == 0) {
                    err = true;
                    $("#txtPreferenceNo").focus();
                    $("#txtPreferenceNo").addClass("req-fld");
                }

                if (err == false) {
                    SaveSpecilityData();
                }
                ClearSpecilityForm();
                // $('#myModal').modal('show');
            });

            $(document).on('click', '#btnSaveEvening', function () {
                ProgramTypeId = 10;
                var hosp2, pref2, err = false;
                hosp2 = ConvertToInt($("#ddlHospital2").val());
                pref2 = ConvertToInt($("#txtPreferenceNo2").val());

                if (hosp2 == 0) {
                    err = true;
                    $("#ddlHospital2").addClass("req-fld");
                    $("#ddlHospital2").focus();
                }

                if (pref2 == 0) {
                    err = true;
                    $("#txtPreferenceNo2").addClass("req-fld");
                    $("#txtPreferenceNo2").focus();
                }
                debugger;
                if (err == false) {
                    SaveSpecilityData();
                }
                // $('#myModal').modal('show');
                ClearSpecilityForm();
            });

            $(document).on('click', '#btnSaveModal', function () {
                $('#myModal').modal('hide');
                window.location = "/applicant-voucher";
            });

            $(document).on('click', '.ankEdit', function () {

                var idAttr = $(this).attr("id");
                applicantSpecilityId = ConvertToInt(idAttr.replace("ankEdit", ""));

                objSpecility = $.grep(objSpecilityList, function (n, i) {
                    return n.applicantSpecilityId == applicantSpecilityId;
                })[0];

                BindSpecilityForm();

            });

            $(document).on('click', '.ankDel', function () {

                var idAttr = $(this).attr("id");
                applicantSpecilityId = ConvertToInt(idAttr.replace("ankDel", ""));

                if (applicantSpecilityId > 0 && confirm('Are you sure you want to do delete this?')) {
                    DeleteSpecility();
                }
            });

            $(document).on('click', '.ankEdit2', function () {

                var idAttr = $(this).attr("id");
                applicantSpecilityId = ConvertToInt(idAttr.replace("ankEdit2", ""));

                objSpecility = $.grep(objSpecilityListEvening, function (n, i) {
                    return n.applicantSpecilityId == applicantSpecilityId;
                })[0];
                console.log(objSpecility);
                BindSpecilityForm2();

            });

            $(document).on('click', "#addPrefAsMorning", function () {


                var obj = {};
                obj.applicantId = applicantId;
                obj.inductionId = 15;
                obj.typeId = 9;

                var resp = CallActionPost("/ApplicantProfile/ApplicantSpecialityDuplicateByType");

                ClearSpecilityForm();
                GetApplicantSpecilityList();
                $('td:nth-child(1),th:nth-child(1)').hide();
                window.location = "/applicant-speciality";
            })

            $(document).on('click', "#addPrefAsEvening", function () {

                var obj = {};
                obj.applicantId = applicantId;
                obj.inductionId = 15;
                obj.typeId = 10;

                var resp = CallActionPost("/ApplicantProfile/ApplicantSpecialityDuplicateByType");

                ClearSpecilityForm();
                GetApplicantSpecilityList();
                $('td:nth-child(1),th:nth-child(1)').hide();
                window.location = "/applicant-speciality";
            })

            $(document).on('click', '.ankDel2', function () {

                var idAttr = $(this).attr("id");
                applicantSpecilityId = ConvertToInt(idAttr.replace("ankDel2", ""));
                debugger;
                if (applicantSpecilityId > 0 && confirm('Are you sure you want to do delete this?')) {
                    DeleteSpecility();
                }
            });

            $(document).on('click', '#ankContinue', function () {

                if ((objSpecilityList != null && objSpecilityList.length > 0) || (objSpecilityListEvening != null && objSpecilityListEvening.length > 0)) {

                    CallActionGet("/ApplicantProfile/UpdateApplicantStatus?applicantId=" + applicantId
                        + "&applicationStatus=6");
                    $('#myModal').modal('show');

                }
                else {

                    alert("Please add atleast one preference.")
                }
            });

            ClearSpecilityForm();
            GetApplicantSpecilityList();

            if (1 > 0) {
                //alert('this');
                //$("option[value<62]").remove();
                fnDllPopulate();

            }


        });

        function fnDllPopulate() {
            $('select').children('option[value="0"]').remove();
            $("select#selected").prop('selectedIndex', 64);
            for (let i = 52; i < 63; i++) {
                $('select').children('option[value="' + i + '"]').remove();
            }
            //BindTypeDDL();
            listHospitalByTypeAndSepecility = [];
            var obj = {};
            obj.typeId = 6;
            obj.reffId = 64;
            obj.userId = applicantId;
            obj.condition = "GetThoseHasJobBySepecilityAndQuotaAndApplicant";//"GetThoseHasJobBySepecility";

            DDLSetToDefault("ddlHospital", 'Select One', 0);
            DDLSetToDefault("ddlHospital2", 'Select One', 0);

            var list = CallActionPost("/Common/HospitalGetForDDLspeciality", obj);

            if (list != null && list.length > 0) {

                if (objApplicant.genderID == 2) {
                    list = list.splice(0, 43);
                }
                else if (objApplicant.genderID == 1) {
                    list = list.splice(43, 44);
                }
                console.log(list.length)
                listHospitalByTypeAndSepecility = list;
                var ddlItem = {};
                for (var i = 0; i < list.length; i++) {
                    ddlItem = list[i];

                    if (hospitalId == ddlItem.id) {
                        $("#ddlHospital").append("<option  value='" + ddlItem.id + "' selected='selected'>" + ddlItem.value + "</option>");
                        $("#ddlHospital2").append("<option  value='" + ddlItem.id + "' selected='selected'>" + ddlItem.value + "</option>");
                    }
                    else {
                        $("#ddlHospital").append("<option  value='" + ddlItem.id + "'>" + ddlItem.value + "</option>");
                        $("#ddlHospital2").append("<option  value='" + ddlItem.id + "'>" + ddlItem.value + "</option>");
                    }
                }
            }
            $('.divSpec').hide().css("visibility", "hidden");
            $('td:nth-child(1),th:nth-child(1)').hide();
        }

        function GetApplicantInfo() {

            var resp = CallActionGet("/ApplicantProfile/GetApplicantInfo?applicantId=" + applicantId);
            if (resp != null && resp.applicantId > 0) {
                objApplicant = resp;
            }
        }

        function BindTypeDDL(typeId) {

            //DDLSetToDefault("ddlType", 'Select One', 0);
            DDLSetToDefault("ddlSpeciality", 'Select One', 0);
            DDLSetToDefault("ddlHospital", 'Select One', 0);

            DDLSetToDefault("ddlHospital2", 'Select One', 0);

            var obj = {};
            obj.typeId = 12; // Degree Type
            if (objApplicant.facultyId == 1)
                obj.reffIds = "1,2,3";
            else obj.reffIds = "4,5";
            obj.reffId = applicantId;
            obj.condition = "ReffIdsAndQuotaAndApplicantIdOrderById";// "ReffIdsOrderByIdAndApplicantId";//"ReffIdsOrderById";
            //console.log(obj);
            objTypeList = CallActionPost("/Common/ConstantGetForDDL", obj);
            if (objTypeList != null && objTypeList.length > 0) {

                var ddlItem = {};
                for (var i = 0; i < objTypeList.length; i++) {
                    ddlItem = objTypeList[i];

                    if (typeId == ddlItem.id)
                        $("#ddlType").append("<option  value='" + ddlItem.id + "' selected='selected'>" + ddlItem.value + "</option>");
                    else $("#ddlType").append("<option  value='" + ddlItem.id + "'>" + ddlItem.value + "</option>");
                }
            }
        }

        function BindSpecialityDDL(specialityId) {

            var obj = {};
            obj.typeId = typeId;
            obj.reffId = applicantId;
            obj.condition = "GetThoseHasJobsByTypeIdAndQuotaAndApplicantId";//"GetThoseHasJobsByTypeId";

            DDLSetToDefault("ddlSpeciality", 'Select One', 0);
            DDLSetToDefault("ddlHospital", 'Select One', 0);

            DDLSetToDefault("ddlHospital2", 'Select One', 0);


            var list = CallActionPost("/Common/SpecialityGetForDDLSpeciality", obj);
            if (list != null && list.length > 0) {

                var ddlItem = {};
                for (var i = 0; i < list.length; i++) {
                    ddlItem = list[i];

                    if (specialityId == ddlItem.id)
                        $("#ddlSpeciality").append("<option  value='" + ddlItem.id + "' selected='selected'>" + ddlItem.value + "</option>");
                    else $("#ddlSpeciality").append("<option  value='" + ddlItem.id + "'>" + ddlItem.value + "</option>");
                }
            }

        }

        function BindHospitalDDL(hospitalId) {

            listHospitalByTypeAndSepecility = [];
            var obj = {};
            obj.typeId = typeId;
            obj.reffId = specialityId;
            obj.userId = applicantId;
            obj.condition = "GetThoseHasJobBySepecilityAndQuotaAndApplicant";//"GetThoseHasJobBySepecility";

            DDLSetToDefault("ddlHospital", 'Select One', 0);

            DDLSetToDefault("ddlHospital2", 'Select One', 0);

            var list = CallActionPost("/Common/HospitalGetForDDLspeciality", obj);

            if (list != null && list.length > 0) {
                console.log(list[0]);
                listHospitalByTypeAndSepecility = list;
                if (objApplicant.genderID == 2) {
                    list = list.splice(0, 43);
                }
                else if (objApplicant.genderID == 1) {
                    list = list.splice(43, 44);
                }
                var ddlItem = {};
                for (var i = 0; i < list.length; i++) {
                    ddlItem = list[i];

                    if (hospitalId == ddlItem.id) {
                        $("#ddlHospital").append("<option  value='" + ddlItem.id + "' selected='selected'>" + ddlItem.value + "</option>");
                        $("#ddlHospital2").append("<option  value='" + ddlItem.id + "' selected='selected'>" + ddlItem.value + "</option>");
                    }

                    else {
                        $("#ddlHospital").append("<option  value='" + ddlItem.id + "'>" + ddlItem.value + "</option>");
                        $("#ddlHospital2").append("<option  value='" + ddlItem.id + "'>" + ddlItem.value + "</option>");
                    }
                }

            }

        }

        function SaveSpecilityData() {
            if (ValidateSpecilityFrom() == false) {

                var checkPrefNo = CallActionPost("/ApplicantProfile/ApplicantSpecilityCheckPreferenceNo", objSpecility);

                if (checkPrefNo != null) {

                    if (checkPrefNo.status == true) {

                        var resp = CallActionPost("/ApplicantProfile/ApplicantSpecilityAddUpdate", objSpecility);
                        if (resp != null) {
                            if (resp.status == true) {
                                ClearSpecilityForm();
                                GetApplicantSpecilityList();
                            }
                            else {
                                alert(resp.message);
                            }
                        }
                        else {
                            alert("Some thing went wrong!");
                        }
                        /*
                         -----------------------------*/
                    }
                    else {
                        alert(checkPrefNo.message);
                    }
                }
                else {
                    alert("Some thing went wrong!");
                }
                $('td:nth-child(1),th:nth-child(1)').hide();
            }
            fnDllPopulate();

        }

        function ValidateSpecilityFrom() {


            $(".req-fld").removeClass("req-fld");

            var isError = false, ctrl = "";

            var hosp2, pref2;

            objSpecility = {};

            if (ProgramTypeId == 9) {
                objSpecility.applicantSpecilityId = ConvertToInt($("#hfdSpecilityId").val())
                objSpecility.applicantId = applicantId;
                objSpecility.typeId = ProgramTypeId;
                objSpecility.specialityId = ConvertToInt($("#ddlSpeciality").val());
                objSpecility.hospitalId = ConvertToInt($("#ddlHospital").val());
                objSpecility.preferenceNo = ConvertToInt($("#txtPreferenceNo").val());
            }


            else {
                objSpecility.applicantSpecilityId = ConvertToInt($("#hfdSpecilityId").val())
                objSpecility.applicantId = applicantId;
                objSpecility.typeId = ProgramTypeId;
                objSpecility.specialityId = ConvertToInt($("#ddlSpeciality").val());
                objSpecility.hospitalId = ConvertToInt($("#ddlHospital2").val());
                objSpecility.preferenceNo = ConvertToInt($("#txtPreferenceNo2").val());
            }



            if (ctrl != "")
                $("#" + ctrl).focus();

            return isError;
        }

        function EventApplicantSpecilityDeleteByType(ctrl) {
            $('#mdNoPreference').modal('hide');
            var typeId = ConvertToInt($(ctrl).attr("typeId"));
            ApplicantSpecilityDeleteByType(typeId);
        }

        function ApplicantSpecilityDeleteByType(typeId) {

            var obj = {};
            obj.applicantId = applicantId;
            obj.typeId = typeId;
            resp = CallActionPost("/ApplicantProfile/ApplicantSpecilityDeleteByType", obj);

            GetApplicantSpecilityList();

        }

        function GetApplicantSpecilityList() {
            $(".divAction").hide();

            var obj = {};
            obj.applicantId = applicantId;

            objSpecilityList = [];
            objSpecilityListEvening = [];
            resp = CallActionPost("/ApplicantProfile/ApplicantSpecilityGet", obj);

           
            try {
                if (resp != null) {
                    listSpcApp = resp.Table;

                    $("#divHtml").html("");
                    $("#divHtml2").html("");

                    if (listSpcApp.length > 0) {
                        $(".divAction").show();
                    }

                    objSpecilityList = $.grep(listSpcApp, function (n, i) {
                        return n.typeId == 9;
                    });

                    BindPenelSpecilityList();

                    objSpecilityListEvening = $.grep(listSpcApp, function (n, i) {
                        return n.typeId == 10;
                    });

                    BindPenelSpecilityList2();
                }
            } catch (e) {
                $(".divAction").hide();
            }

            
        }

        function BindPenelSpecilityList() {
            //alert('bind');

            $("#divHtml").html("").change();

            var divTemp = $("#divTemp").html();
            var htmlTemp = $("#tbTemplate").html();

            var objItem = {};
            var htmlComplete = "", htmlSingle = "";
            var htmlCompleteDiv = "", htmlSingleDiv = "";
            console.log(objSpecilityList[0]);

            $("#divParent9").hide();
            $("#chkIs9").prop("checked", false);
            if (objSpecilityList != null && objSpecilityList.length > 0) {

                for (var j = 0; j < objSpecilityList.length; j++) {

                    $("#divParent9").show();

                    $("#chkIs9").prop("checked", true);

                    htmlSingle = htmlTemp;
                    objItem = objSpecilityList[j];
                    htmlComplete = htmlComplete + htmlSingle
                        .replace(/{#specialityName#}/g, objItem.specialityName)
                        .replace(/{#hospitalName#}/g, objItem.hospitalName)
                        .replace(/{#preferenceNo#}/g, objItem.preferenceNo)
                        .replace(/{#SpecilityId#}/g, objItem.applicantSpecilityId);
                }


                if (1 > 0) {
                    var body = " <table class='table mt10'><thead class='job-th'>" +
                        "<th>ID</th><th>Institute</th><th>Preference No</th> <th>Action</th></tr> </thead> " +
                        "<tbody>" + htmlComplete + " </tbody></table>";
                }
                else {
                    var body = " <table class='table mt10'><thead class='job-th'>" +
                        "<th>ID</th><th>Institute</th><th>Preference No</th> <th>Action</th></tr> </thead> " +
                        "<tbody>" + htmlComplete + " </tbody></table>";
                }


                htmlCompleteDiv = htmlCompleteDiv + "<h3>Your Morning Preferences:</h3><hr class=colorgraph'>" +
                    "<div class='row'><div class='col-xs-12 col-sm-12 col-md-12'>"
                    + body + "</div></div> "
            }

            $("#divHtml").html(htmlCompleteDiv);

        }

        function BindPenelSpecilityList2() {
            //alert('bind');
            $("#divHtml2").html("");

            var divTemp = $("#divTemp").html();
            var htmlTemp = $("#tbTemplate2").html();

            var objItem = {};
            var htmlComplete = "", htmlSingle = "";
            var htmlCompleteDiv = "", htmlSingleDiv = "";
            console.log(objSpecilityListEvening[0]);

            $("#divParent10").hide();
            $("#chkIs10").prop("checked", false);
            if (objSpecilityListEvening != null && objSpecilityListEvening.length > 0) {

                $("#divParent10").show();
                $("#chkIs10").prop("checked", true);

                for (var j = 0; j < objSpecilityListEvening.length; j++) {

                    htmlSingle = htmlTemp;
                    objItem = objSpecilityListEvening[j];
                    htmlComplete = htmlComplete + htmlSingle
                        .replace(/{#specialityName2#}/g, objItem.specialityName)
                        .replace(/{#hospitalName2#}/g, objItem.hospitalName)
                        .replace(/{#preferenceNo2#}/g, objItem.preferenceNo)
                        .replace(/{#SpecilityId2#}/g, objItem.applicantSpecilityId);
                }


                if (1 > 0) {
                    var body = " <table class='table mt10'><thead class='job-th'>" +
                        "<th>ID</th><th>Institute</th><th>Preference No</th> <th>Action</th></tr> </thead> " +
                        "<tbody>" + htmlComplete + " </tbody></table>";
                }
                else {
                    var body = " <table class='table mt10'><thead class='job-th'>" +
                        "<th>ID</th><th>Institute</th><th>Preference No</th> <th>Action</th></tr> </thead> " +
                        "<tbody>" + htmlComplete + " </tbody></table>";
                }


                htmlCompleteDiv = htmlCompleteDiv + "<h3>Your Evening Preferences: </h3><hr class=colorgraph'>" +
                    "<div class='row'><div class='col-xs-12 col-sm-12 col-md-12'>"
                    + body + "</div></div> "
            }

            $("#divHtml2").html(htmlCompleteDiv);

        }

        function BindSpecilityForm() {

            typeId = objSpecility.typeId;
            specialityId = objSpecility.specialityId;
            hospitalId = objSpecility.hospitalId;

            $("#hfdSpecilityId").val(objSpecility.applicantSpecilityId);
            //$("#ddlType").val(typeId);
            BindSpecialityDDL(specialityId)
            $("#ddlSpeciality").val(specialityId);
            BindHospitalDDL(hospitalId);
            $("#ddlHospital").val(hospitalId);
            $("#txtPreferenceNo").val(objSpecility.preferenceNo);
            $("#ddlHospital2").val(0);
            $("#txtPreferenceNo2").val("");
        }

        function BindSpecilityForm2() {

            typeId = objSpecility.typeId;
            specialityId = objSpecility.specialityId;
            hospitalId = objSpecility.hospitalId;

            $("#hfdSpecilityId").val(objSpecility.applicantSpecilityId);
            //$("#ddlType").val(typeId);
            BindSpecialityDDL(specialityId)
            $("#ddlSpeciality2").val(specialityId);
            BindHospitalDDL(hospitalId);
            $("#ddlHospital2").val(hospitalId);
            $("#txtPreferenceNo2").val(objSpecility.preferenceNo);
            $("#ddlHospital").val(0);
            $("#txtPreferenceNo").val("");
        }

        function DeleteSpecility() {

            var resp = CallActionGet("/ApplicantProfile/ApplicantSpecilityDeleteSingle?applicantSpecilityId=" + applicantSpecilityId);
            ClearSpecilityForm();
            GetApplicantSpecilityList();
            $('td:nth-child(1),th:nth-child(1)').hide();
            window.location = "/applicant-speciality";
        }

        function ClearSpecilityForm() {

            if (objSpecilityList.length > 0 && objSpecilityList != null) {
                $("#addPrefAsMorning").hide();
            }
            else {
                $("#addPrefAsMorning").show();
            }

            if (objSpecilityListEvening.length > 0 && objSpecilityListEvening != null) {
                $("#addPrefAsEvening").hide();
            }
            else {
                $("#addPrefAsEvening").show();
            }



            specialityId = 0;
            hospitalId = 0;
            $("#hfdSpecilityId").val(0);
            $("#ddlSpeciality").val(0);
            $("#txtPreferenceNo").val("");
            $("#txtPreferenceNo2").val("");
            DDLSetToDefault("ddlHospital", 'Select One', 0);

            DDLSetToDefault("ddlHospital2", 'Select One', 0);

            if (1 > 0) {
                //alert('this');
                //$("option[value<62]").remove();
                fnDllPopulate();


            }
        }

    </script>
}

<div class="container" style=" margin-bottom:60px;">
    <div class="row main">
        <div class="col-sm-12 form-box">
            <div class="main-login main-center">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="progress mt15">
                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:90%">
                                90%
                            </div>
                        </div> <div class="mt-action-icon ">
                            <i class=" icon-bubbles"></i>
                        </div>
                        <h3 class="text-center">Speciality : Step 3 of 4</h3>
                        <hr class="colorgraph">
                        <table style="display:none">
                            <tbody id="tbTemplate">
                                <tr class="job-tb">
                                    <td>{#specialityName#}</td>
                                    <td>{#hospitalName#}</td>
                                    <td>{#preferenceNo#}</td>
                                    <td>
                                        <a id="ankEdit{#SpecilityId#}" class="ankEdit ank"><i class="fa fa-pencil-square-o"></i></a>&nbsp;|&nbsp;
                                        <a id="ankDel{#SpecilityId#}" class="ankDel ank"><i class="fa fa-trash-o"></i></a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <table style="display:none">
                            <tbody id="tbTemplate2">
                                <tr class="job-tb">
                                    <td>{#specialityName2#}</td>
                                    <td>{#hospitalName2#}</td>
                                    <td>{#preferenceNo2#}</td>
                                    <td>
                                        <a id="ankEdit2{#SpecilityId2#}" class="ankEdit2 ank"><i class="fa fa-pencil-square-o"></i></a>&nbsp;|&nbsp;
                                        <a id="ankDel2{#SpecilityId2#}" class="ankDel2 ank"><i class="fa fa-trash-o"></i></a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="row">
                            <div class="col-sm-12 div-apply">
                                <input id="chkIs9" type="checkbox" class="form-control chk-apply" typeId="9"><span class="spn-apply"> Want to apply in morning</span>
                            </div>
                        </div>
                        <div id="divParent9" style="display:none;">
                            <div id="divHtml">
                            </div>
                            <div class="well">
                                <form role="form">
                                    <div class="row" style="height:20px; "> </div>
                                    <div class="row">
                                        <div class="col-md-6"><h4> Add your Morning Preference </h4></div>
                                        <div class="col-md-6" style="display:none;"><a id="addPrefAsEvening" class="btn mybtn animated-button form-control" style="font-weight: bold; margin-bottom: 10px; width: 90%; text-align: center; display: none;"> Replace Preferences From Evening </a></div>
                                    </div>
                                    <div class="row">
                                        <input type="hidden" id="hfdSpecilityId" value="0">
                                        <div class="col-xs-12 col-sm-6 col-md-6">
                                            <div class="form-group">
                                                <label> Institute Name <span class="sprq">*</span></label>
                                                <select class="form-control" required="" id="ddlHospital" name="ddlHospital">
                                                </select>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 col-sm-2 col-md-2">
                                            <div class="form-group">
                                                <label> Preference No. <span class="sprq">*</span></label>
                                                <input type="text" required="" id="txtPreferenceNo" name="PrefNo" class="form-control numeric" len="3" placeholder="Please Enter Preference No">
                                            </div>
                                        </div>
                                        <div class="col-xs-12 col-sm-2 col-md-2">
                                            <div class="form-group">
                                                <label>&nbsp;</label>
                                                <input type="button" id="btnSave" name="submit" class="btn mybtn animated-button form-control" value="Save Preference" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" style="height:20px; "> </div>
                                </form>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12 div-apply">
                                <input id="chkIs10" type="checkbox" class="form-control chk-apply" typeId="10"><span class="spn-apply"> Want to apply in evening</span>
                            </div>
                        </div>
                        <div id="divParent10" style="display:none;">
                            <div id="divHtml2">
                            </div>
                            <div class="well">
                                <form role="form">

                                    <div class="row" style="display:none;">
                                        <div class="col-md-6"><h4> Add your Evening Preference </h4></div>
                                        <div class="col-md-6" style="display:none;"><a id="addPrefAsMorning" class="btn mybtn animated-button form-control" style="font-weight: bold;margin-bottom: 10px;width: 90%;text-align: center; display:none;"> Replace Preferences From Morning </a></div>

                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-6 col-md-6">
                                            <div class="form-group">
                                                <label> Institute Name <span class="sprq">*</span></label>
                                                <select class="form-control" required="" id="ddlHospital2" name="ddlHospital2">
                                                </select>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 col-sm-2 col-md-2">
                                            <div class="form-group">
                                                <label> Preference No. <span class="sprq">*</span></label>
                                                <input type="text" required="" id="txtPreferenceNo2" name="PrefNo" class="form-control numeric" len="3" placeholder="Please Enter Preference No">
                                            </div>
                                        </div>
                                        <div class="col-xs-12 col-sm-2 col-md-2">
                                            <div class="form-group">
                                                <label>&nbsp;</label>
                                                <input type="button" id="btnSaveEvening" name="submit" class="btn mybtn animated-button form-control" value="Save Preference" />
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-sm-2">
                </div>
                <div class="col-sm-4">
                </div>
                <div class="col-sm-6 divAction" style="display:none">

                    <a id="ankContinue" class="btn btn-lg mb10 mt5 pull-right btn-red" value=""> Continue &nbsp;&nbsp;<i class="fa fa-arrow-right"></i></a>
                    &nbsp;&nbsp;
                    <a href="/applicant-education" class="btn btn-lg mb10 mt5 pull-right btn-blue" style="margin-right:10px; margin-top: 2px;"> <i class="fa fa-arrow-left"></i> &nbsp;&nbsp;Previous &nbsp;&nbsp;</a>
                </div>

                @Html.Partial("_NotePageBottom")
            </div>
        </div>

        <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Cofirmation</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row main">
                            <div class="col-sm-1"></div>
                            <div class="col-sm-10 form-box mn0" style="height:100%; padding:30px">
                                <div class="main-login main-center">
                                    <p> These changes are not edible after submission. If you are sure please click on <b>Save</b> Button</p>
                                    <p>
                                        <label class="text-center">
                                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                            <img src="~/Images/popupTxt.jpeg" />
                                        </label>
                                    </p>
                                    <div class="col-sm-12">
                                        <span id="btnSaveModal" type="button" class="btn btn-lg mb10 mt5 pull-right btn-red" tabindex="28">Save &nbsp; &nbsp;<i class="fa fa-arrow-right"></i></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cacel</button>
                    </div>
                </div>

            </div>
        </div>

        <div class="modal fade" id="mdNoPreference" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Cofirmation</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row main">
                            <div class="col-sm-1"></div>
                            <div class="col-sm-10 form-box mn0" style="height:100%; padding:30px">
                                <div class="main-login main-center">
                                    <p id="mdSpnAlert"> These changes are not edible after submission. If you are sure please click on <b>Save</b> Button</p>
                                    <div class="col-sm-12">
                                        <span id="btnUnCheckApply" type="button" class="btn btn-lg mb10 mt5 pull-right btn-red" onclick="EventApplicantSpecilityDeleteByType(this);" tabindex="28">Save &nbsp; &nbsp;<i class="fa fa-arrow-right"></i></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cacel</button>
                    </div>
                </div>

            </div>
        </div>
    </div>
